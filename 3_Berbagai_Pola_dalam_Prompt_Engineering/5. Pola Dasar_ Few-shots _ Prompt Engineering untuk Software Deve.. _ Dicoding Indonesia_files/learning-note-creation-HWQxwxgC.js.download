import Je from"jquery";import{p as Ie}from"./purify.es-9JUW7zMc.js";var ut=(e=>(e.ACTIVE="active",e.MOVED="moved",e.ORPHANED="orphaned",e))(ut||{});function Qe(e){return e.replaceAll(/\u00A0/g," ").replaceAll(/\n/g," ")}function en(e,t,n=0){if(typeof e=="string"){const o=e.indexOf(t,n);if(o===-1)throw new Error("Searched string not found");return o}else{const o=e.indexOf(t,n);if(o===-1)throw new Error("Searched item not found in array");return o}}function to(e,t){const n=Qe(t.textContent??""),o=Qe(e.toString());let i,r;const s=document.createTreeWalker(t,NodeFilter.SHOW_TEXT);let l=null,a=null,c=[];for(;s.nextNode()&&!a;)s.currentNode===e.startContainer&&(l=s.currentNode),l||(c=c.concat(s.currentNode)),s.currentNode===e.endContainer&&(a=s.currentNode);i=c.reduce((b,w)=>b+Qe(w.textContent??""),"").length+e.startOffset,r=i+o.length;const d=30,u=n.slice(Math.max(0,i-d),i),g=n.slice(r,r+d);return{highlightedText:o,highlightStartOffset:i,highlightEndOffset:r,highlightPrefix:u,highlightSuffix:g}}function no(e){return e.replace(/_([a-z])/g,(t,n)=>n.toUpperCase())}function At(e){return Array.isArray(e)?e.map(t=>At(t)):e!==null&&typeof e=="object"?Object.fromEntries(Object.entries(e).map(([t,n])=>[no(t),At(n)])):e}function oo(e,t){return Qe(t.textContent??"").slice(e.highlightStartOffset,e.highlightEndOffset)===e.highlightedText?{...e,status:ut.ACTIVE}:{...e,status:ut.ORPHANED}}function io(e,t){var g;const n=t.highlightStartOffset,o=t.highlightEndOffset,i=document.createTreeWalker(e,NodeFilter.SHOW_TEXT),r=document.createRange();let s=0,l=null,a=0,c=null,p=0;for(;i.nextNode();){const b=i.currentNode,w=Qe(b.textContent??"").length;if(!l&&s+w>=n&&(l=b,a=n-s),!c&&s+w>=o){c=b,p=o-s;break}s+=w}if(!l||!c)throw new Error("Offset out of bounds");r.setStart(l,a),r.setEnd(c,p);function d(b){return b.parentElement===null?null:b.parentElement===e?b:d(b.parentElement)}function u(b){return b.nodeType===Node.ELEMENT_NODE&&b.childNodes.length?u(b.childNodes[0]):b}if(((g=r.startContainer.textContent)==null?void 0:g.length)===r.startOffset)if(r.startContainer.nextSibling)r.setStart(r.startContainer.nextSibling,0);else{const b=d(r.startContainer.parentElement),w=b.nextElementSibling.childNodes;w.length?r.setStart(u(w[0]),0):r.setStart(b.nextElementSibling,0)}if(r.startContainer.nodeType===Node.ELEMENT_NODE&&r.startContainer.tagName.toLowerCase()==="img"){const b=d(r.startContainer.parentElement),w=b.nextElementSibling.childNodes;w.length?r.setStart(u(w[0]),0):r.setStart(b.nextElementSibling,0)}return r}/*! shepherd.js 14.5.1 */function ro(e){return e instanceof Element}function ze(e){return e instanceof HTMLElement}function Se(e){return typeof e=="function"}function tt(e){return typeof e=="string"}function $(e){return e===void 0}class Nt{on(t,n,o,i=!1){var r;return $(this.bindings)&&(this.bindings={}),$(this.bindings[t])&&(this.bindings[t]=[]),(r=this.bindings[t])==null||r.push({handler:n,ctx:o,once:i}),this}once(t,n,o){return this.on(t,n,o,!0)}off(t,n){if($(this.bindings)||$(this.bindings[t]))return this;if($(n))delete this.bindings[t];else{var o;(o=this.bindings[t])==null||o.forEach((i,r)=>{if(i.handler===n){var s;(s=this.bindings[t])==null||s.splice(r,1)}})}return this}trigger(t,...n){if(!$(this.bindings)&&this.bindings[t]){var o;(o=this.bindings[t])==null||o.forEach((i,r)=>{const{ctx:s,handler:l,once:a}=i,c=s||this;if(l.apply(c,n),a){var p;(p=this.bindings[t])==null||p.splice(r,1)}})}return this}}function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},J.apply(null,arguments)}function Mt(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.includes(o))continue;n[o]=e[o]}return n}const Te={defaultMerge:Symbol("deepmerge-ts: default merge"),skip:Symbol("deepmerge-ts: skip")};Te.defaultMerge;function so(e,t){return t}function lo(e,t){return e.filter(n=>n!==void 0)}var tn;(function(e){e[e.NOT=0]="NOT",e[e.RECORD=1]="RECORD",e[e.ARRAY=2]="ARRAY",e[e.SET=3]="SET",e[e.MAP=4]="MAP",e[e.OTHER=5]="OTHER"})(tn||(tn={}));function nn(e){return typeof e!="object"||e===null?0:Array.isArray(e)?2:uo(e)?1:e instanceof Set?3:e instanceof Map?4:5}function ao(e){const t=new Set;for(const n of e)for(const o of[...Object.keys(n),...Object.getOwnPropertySymbols(n)])t.add(o);return t}function co(e,t){return typeof e=="object"&&Object.prototype.propertyIsEnumerable.call(e,t)}function An(e){return{*[Symbol.iterator](){for(const t of e)for(const n of t)yield n}}}const on=new Set(["[object Object]","[object Module]"]);function uo(e){if(!on.has(Object.prototype.toString.call(e)))return!1;const{constructor:t}=e;if(t===void 0)return!0;const n=t.prototype;return!(n===null||typeof n!="object"||!on.has(Object.prototype.toString.call(n))||!n.hasOwnProperty("isPrototypeOf"))}function fo(e,t,n){const o={};for(const i of ao(e)){const r=[];for(const a of e)co(a,i)&&r.push(a[i]);if(r.length===0)continue;const s=t.metaDataUpdater(n,{key:i,parents:e}),l=Cn(r,t,s);l!==Te.skip&&(i==="__proto__"?Object.defineProperty(o,i,{value:l,configurable:!0,enumerable:!0,writable:!0}):o[i]=l)}return o}function ho(e){return e.flat()}function go(e){return new Set(An(e))}function po(e){return new Map(An(e))}function mo(e){return e.at(-1)}const st={mergeRecords:fo,mergeArrays:ho,mergeSets:go,mergeMaps:po,mergeOthers:mo};function Pt(...e){return bo({})(...e)}function bo(e,t){const n=wo(e,o);function o(...i){return Cn(i,n,t)}return o}function wo(e,t){var n,o,i;return{defaultMergeFunctions:st,mergeFunctions:J({},st,Object.fromEntries(Object.entries(e).filter(([r,s])=>Object.hasOwn(st,r)).map(([r,s])=>s===!1?[r,st.mergeOthers]:[r,s]))),metaDataUpdater:(n=e.metaDataUpdater)!=null?n:so,deepmerge:t,useImplicitDefaultMerging:(o=e.enableImplicitDefaultMerging)!=null?o:!1,filterValues:e.filterValues===!1?void 0:(i=e.filterValues)!=null?i:lo,actions:Te}}function Cn(e,t,n){var o;const i=(o=t.filterValues==null?void 0:t.filterValues(e,n))!=null?o:e;if(i.length===0)return;if(i.length===1)return St(i,t,n);const r=nn(i[0]);if(r!==0&&r!==5){for(let s=1;s<i.length;s++)if(nn(i[s])!==r)return St(i,t,n)}switch(r){case 1:return yo(i,t,n);case 2:return Eo(i,t,n);case 3:return vo(i,t,n);case 4:return xo(i,t,n);default:return St(i,t,n)}}function yo(e,t,n){const o=t.mergeFunctions.mergeRecords(e,t,n);return o===Te.defaultMerge||t.useImplicitDefaultMerging&&o===void 0&&t.mergeFunctions.mergeRecords!==t.defaultMergeFunctions.mergeRecords?t.defaultMergeFunctions.mergeRecords(e,t,n):o}function Eo(e,t,n){const o=t.mergeFunctions.mergeArrays(e,t,n);return o===Te.defaultMerge||t.useImplicitDefaultMerging&&o===void 0&&t.mergeFunctions.mergeArrays!==t.defaultMergeFunctions.mergeArrays?t.defaultMergeFunctions.mergeArrays(e):o}function vo(e,t,n){const o=t.mergeFunctions.mergeSets(e,t,n);return o===Te.defaultMerge||t.useImplicitDefaultMerging&&o===void 0&&t.mergeFunctions.mergeSets!==t.defaultMergeFunctions.mergeSets?t.defaultMergeFunctions.mergeSets(e):o}function xo(e,t,n){const o=t.mergeFunctions.mergeMaps(e,t,n);return o===Te.defaultMerge||t.useImplicitDefaultMerging&&o===void 0&&t.mergeFunctions.mergeMaps!==t.defaultMergeFunctions.mergeMaps?t.defaultMergeFunctions.mergeMaps(e):o}function St(e,t,n){const o=t.mergeFunctions.mergeOthers(e,t,n);return o===Te.defaultMerge||t.useImplicitDefaultMerging&&o===void 0&&t.mergeFunctions.mergeOthers!==t.defaultMergeFunctions.mergeOthers?t.defaultMergeFunctions.mergeOthers(e):o}function Dt(e){const t=Object.getOwnPropertyNames(e.constructor.prototype);for(let n=0;n<t.length;n++){const o=t[n],i=e[o];o!=="constructor"&&typeof i=="function"&&(e[o]=i.bind(e))}return e}function _o(e,t){return n=>{if(e.isOpen()){const o=e.el&&n.currentTarget===e.el;(!$(t)&&n.currentTarget.matches(t)||o)&&e.tour.next()}}}function So(e){const{event:t,selector:n}=e.options.advanceOn||{};if(t){const o=_o(e,n);let i=null;if(!$(n)&&(i=document.querySelector(n),!i))return console.error(`No element was found for the selector supplied to advanceOn: ${n}`);i?(i.addEventListener(t,o),e.on("destroy",()=>i.removeEventListener(t,o))):(document.body.addEventListener(t,o,!0),e.on("destroy",()=>document.body.removeEventListener(t,o,!0)))}else return console.error("advanceOn was defined, but no event name was passed.")}class Oo{constructor(t){}}class To{constructor(t,n){}}function In(e){return!tt(e)||e===""?"":e.charAt(e.length-1)!=="-"?`${e}-`:e}function Ao(e){const t=e.options.attachTo||{},n=Object.assign({},t);if(Se(n.element)&&(n.element=n.element.call(e)),tt(n.element)){try{n.element=document.querySelector(n.element)}catch{}n.element||console.error(`The element for this Shepherd step was not found ${t.element}`)}return n}function Co(e){return e.options.extraHighlights?e.options.extraHighlights.flatMap(t=>Array.from(document.querySelectorAll(t))):[]}function kn(e){return e==null?!0:!e.element||!e.on}function Ln(){let e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(t=="x"?n:n&3|8).toString(16)})}const Io=["top","right","bottom","left"],rn=["start","end"],sn=Io.reduce((e,t)=>e.concat(t,t+"-"+rn[0],t+"-"+rn[1]),[]),Ge=Math.min,Le=Math.max,ft=Math.round,lt=Math.floor,he=e=>({x:e,y:e}),ko={left:"right",right:"left",bottom:"top",top:"bottom"},Lo={start:"end",end:"start"};function Ct(e,t,n){return Le(e,Ge(t,n))}function Pe(e,t){return typeof e=="function"?e(t):e}function Ee(e){return e.split("-")[0]}function ye(e){return e.split("-")[1]}function Ft(e){return e==="x"?"y":"x"}function Bt(e){return e==="y"?"height":"width"}function Re(e){return["top","bottom"].includes(Ee(e))?"y":"x"}function Ht(e){return Ft(Re(e))}function Rn(e,t,n){n===void 0&&(n=!1);const o=ye(e),i=Ht(e),r=Bt(i);let s=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[r]>t.floating[r]&&(s=ht(s)),[s,ht(s)]}function Ro(e){const t=ht(e);return[dt(e),t,dt(t)]}function dt(e){return e.replace(/start|end/g,t=>Lo[t])}function No(e,t,n){const o=["left","right"],i=["right","left"],r=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:o:t?o:i;case"left":case"right":return t?r:s;default:return[]}}function Mo(e,t,n,o){const i=ye(e);let r=No(Ee(e),n==="start",o);return i&&(r=r.map(s=>s+"-"+i),t&&(r=r.concat(r.map(dt)))),r}function ht(e){return e.replace(/left|right|bottom|top/g,t=>ko[t])}function Po(e){return J({top:0,right:0,bottom:0,left:0},e)}function Nn(e){return typeof e!="number"?Po(e):{top:e,right:e,bottom:e,left:e}}function gt(e){const{x:t,y:n,width:o,height:i}=e;return{width:o,height:i,top:n,left:t,right:t+o,bottom:n+i,x:t,y:n}}const Do=["crossAxis","alignment","allowedPlacements","autoAlignment"],Fo=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],Bo=["mainAxis","crossAxis","limiter"];function ln(e,t,n){let{reference:o,floating:i}=e;const r=Re(t),s=Ht(t),l=Bt(s),a=Ee(t),c=r==="y",p=o.x+o.width/2-i.width/2,d=o.y+o.height/2-i.height/2,u=o[l]/2-i[l]/2;let g;switch(a){case"top":g={x:p,y:o.y-i.height};break;case"bottom":g={x:p,y:o.y+o.height};break;case"right":g={x:o.x+o.width,y:d};break;case"left":g={x:o.x-i.width,y:d};break;default:g={x:o.x,y:o.y}}switch(ye(t)){case"start":g[s]-=u*(n&&c?-1:1);break;case"end":g[s]+=u*(n&&c?-1:1);break}return g}const Ho=async(e,t,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:s}=n,l=r.filter(Boolean),a=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:p,y:d}=ln(c,o,a),u=o,g={},b=0;for(let w=0;w<l.length;w++){const{name:_,fn:x}=l[w],{x:C,y:T,data:v,reset:A}=await x({x:p,y:d,initialPlacement:o,placement:u,strategy:i,middlewareData:g,rects:c,platform:s,elements:{reference:e,floating:t}});p=C??p,d=T??d,g=J({},g,{[_]:J({},g[_],v)}),A&&b<=50&&(b++,typeof A=="object"&&(A.placement&&(u=A.placement),A.rects&&(c=A.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):A.rects),{x:p,y:d}=ln(c,u,a)),w=-1)}return{x:p,y:d,placement:u,strategy:i,middlewareData:g}};async function qt(e,t){var n;t===void 0&&(t={});const{x:o,y:i,platform:r,rects:s,elements:l,strategy:a}=e,{boundary:c="clippingAncestors",rootBoundary:p="viewport",elementContext:d="floating",altBoundary:u=!1,padding:g=0}=Pe(t,e),b=Nn(g),_=l[u?d==="floating"?"reference":"floating":d],x=gt(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(_)))==null||n?_:_.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(l.floating)),boundary:c,rootBoundary:p,strategy:a})),C=d==="floating"?{x:o,y:i,width:s.floating.width,height:s.floating.height}:s.reference,T=await(r.getOffsetParent==null?void 0:r.getOffsetParent(l.floating)),v=await(r.isElement==null?void 0:r.isElement(T))?await(r.getScale==null?void 0:r.getScale(T))||{x:1,y:1}:{x:1,y:1},A=gt(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:C,offsetParent:T,strategy:a}):C);return{top:(x.top-A.top+b.top)/v.y,bottom:(A.bottom-x.bottom+b.bottom)/v.y,left:(x.left-A.left+b.left)/v.x,right:(A.right-x.right+b.right)/v.x}}const qo=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:i,rects:r,platform:s,elements:l,middlewareData:a}=t,{element:c,padding:p=0}=Pe(e,t)||{};if(c==null)return{};const d=Nn(p),u={x:n,y:o},g=Ht(i),b=Bt(g),w=await s.getDimensions(c),_=g==="y",x=_?"top":"left",C=_?"bottom":"right",T=_?"clientHeight":"clientWidth",v=r.reference[b]+r.reference[g]-u[g]-r.floating[b],A=u[g]-r.reference[g],N=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let I=N?N[T]:0;(!I||!await(s.isElement==null?void 0:s.isElement(N)))&&(I=l.floating[T]||r.floating[b]);const V=v/2-A/2,j=I/2-w[b]/2-1,E=Ge(d[x],j),L=Ge(d[C],j),k=E,F=I-w[b]-L,q=I/2-w[b]/2+V,K=Ct(k,q,F),ee=!a.arrow&&ye(i)!=null&&q!==K&&r.reference[b]/2-(q<k?E:L)-w[b]/2<0,G=ee?q<k?q-k:q-F:0;return{[g]:u[g]+G,data:J({[g]:K,centerOffset:q-K-G},ee&&{alignmentOffset:G}),reset:ee}}});function Vo(e,t,n){return(e?[...n.filter(i=>ye(i)===e),...n.filter(i=>ye(i)!==e)]:n.filter(i=>Ee(i)===i)).filter(i=>e?ye(i)===e||(t?dt(i)!==i:!1):!0)}const jo=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(n){var o,i,r;const{rects:s,middlewareData:l,placement:a,platform:c,elements:p}=n,d=Pe(t,n),{crossAxis:u=!1,alignment:g,allowedPlacements:b=sn,autoAlignment:w=!0}=d,_=Mt(d,Do),x=g!==void 0||b===sn?Vo(g||null,w,b):b,C=await qt(n,_),T=((o=l.autoPlacement)==null?void 0:o.index)||0,v=x[T];if(v==null)return{};const A=Rn(v,s,await(c.isRTL==null?void 0:c.isRTL(p.floating)));if(a!==v)return{reset:{placement:x[0]}};const N=[C[Ee(v)],C[A[0]],C[A[1]]],I=[...((i=l.autoPlacement)==null?void 0:i.overflows)||[],{placement:v,overflows:N}],V=x[T+1];if(V)return{data:{index:T+1,overflows:I},reset:{placement:V}};const j=I.map(k=>{const F=ye(k.placement);return[k.placement,F&&u?k.overflows.slice(0,2).reduce((q,K)=>q+K,0):k.overflows[0],k.overflows]}).sort((k,F)=>k[1]-F[1]),L=((r=j.filter(k=>k[2].slice(0,ye(k[0])?2:3).every(F=>F<=0))[0])==null?void 0:r[0])||j[0][0];return L!==a?{data:{index:T+1,overflows:I},reset:{placement:L}}:{}}}},Wo=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(n){var o,i;const{placement:r,middlewareData:s,rects:l,initialPlacement:a,platform:c,elements:p}=n,d=Pe(t,n),{mainAxis:u=!0,crossAxis:g=!0,fallbackPlacements:b,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:x=!0}=d,C=Mt(d,Fo);if((o=s.arrow)!=null&&o.alignmentOffset)return{};const T=Ee(r),v=Re(a),A=Ee(a)===a,N=await(c.isRTL==null?void 0:c.isRTL(p.floating)),I=b||(A||!x?[ht(a)]:Ro(a)),V=_!=="none";!b&&V&&I.push(...Mo(a,x,_,N));const j=[a,...I],E=await qt(n,C),L=[];let k=((i=s.flip)==null?void 0:i.overflows)||[];if(u&&L.push(E[T]),g){const G=Rn(r,l,N);L.push(E[G[0]],E[G[1]])}if(k=[...k,{placement:r,overflows:L}],!L.every(G=>G<=0)){var F,q;const G=(((F=s.flip)==null?void 0:F.index)||0)+1,Be=j[G];if(Be){var K;const Y=g==="alignment"?v!==Re(Be):!1,te=((K=k[0])==null?void 0:K.overflows[0])>0;if(!Y||te)return{data:{index:G,overflows:k},reset:{placement:Be}}}let ae=(q=k.filter(Y=>Y.overflows[0]<=0).sort((Y,te)=>Y.overflows[1]-te.overflows[1])[0])==null?void 0:q.placement;if(!ae)switch(w){case"bestFit":{var ee;const Y=(ee=k.filter(te=>{if(V){const ce=Re(te.placement);return ce===v||ce==="y"}return!0}).map(te=>[te.placement,te.overflows.filter(ce=>ce>0).reduce((ce,Et)=>ce+Et,0)]).sort((te,ce)=>te[1]-ce[1])[0])==null?void 0:ee[0];Y&&(ae=Y);break}case"initialPlacement":ae=a;break}if(r!==ae)return{reset:{placement:ae}}}return{}}}},Uo=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(n){const{x:o,y:i,placement:r}=n,s=Pe(t,n),{mainAxis:l=!0,crossAxis:a=!1,limiter:c={fn:C=>{let{x:T,y:v}=C;return{x:T,y:v}}}}=s,p=Mt(s,Bo),d={x:o,y:i},u=await qt(n,p),g=Re(Ee(r)),b=Ft(g);let w=d[b],_=d[g];if(l){const C=b==="y"?"top":"left",T=b==="y"?"bottom":"right",v=w+u[C],A=w-u[T];w=Ct(v,w,A)}if(a){const C=g==="y"?"top":"left",T=g==="y"?"bottom":"right",v=_+u[C],A=_-u[T];_=Ct(v,_,A)}const x=c.fn(J({},n,{[b]:w,[g]:_}));return J({},x,{data:{x:x.x-o,y:x.y-i,enabled:{[b]:l,[g]:a}}})}}},zo=function(t){return t===void 0&&(t={}),{options:t,fn(n){const{x:o,y:i,placement:r,rects:s,middlewareData:l}=n,{offset:a=0,mainAxis:c=!0,crossAxis:p=!0}=Pe(t,n),d={x:o,y:i},u=Re(r),g=Ft(u);let b=d[g],w=d[u];const _=Pe(a,n),x=typeof _=="number"?{mainAxis:_,crossAxis:0}:J({mainAxis:0,crossAxis:0},_);if(c){const v=g==="y"?"height":"width",A=s.reference[g]-s.floating[v]+x.mainAxis,N=s.reference[g]+s.reference[v]-x.mainAxis;b<A?b=A:b>N&&(b=N)}if(p){var C,T;const v=g==="y"?"width":"height",A=["top","left"].includes(Ee(r)),N=s.reference[u]-s.floating[v]+(A&&((C=l.offset)==null?void 0:C[u])||0)+(A?0:x.crossAxis),I=s.reference[u]+s.reference[v]+(A?0:((T=l.offset)==null?void 0:T[u])||0)-(A?x.crossAxis:0);w<N?w=N:w>I&&(w=I)}return{[g]:b,[u]:w}}}};function mt(){return typeof window<"u"}function Ke(e){return Mn(e)?(e.nodeName||"").toLowerCase():"#document"}function Z(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function me(e){var t;return(t=(Mn(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Mn(e){return mt()?e instanceof Node||e instanceof Z(e).Node:!1}function re(e){return mt()?e instanceof Element||e instanceof Z(e).Element:!1}function ge(e){return mt()?e instanceof HTMLElement||e instanceof Z(e).HTMLElement:!1}function an(e){return!mt()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Z(e).ShadowRoot}function it(e){const{overflow:t,overflowX:n,overflowY:o,display:i}=se(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(i)}function Go(e){return["table","td","th"].includes(Ke(e))}function bt(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Vt(e){const t=jt(),n=re(e)?se(e):e;return["transform","translate","scale","rotate","perspective"].some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function Yo(e){let t=Oe(e);for(;ge(t)&&!Ye(t);){if(Vt(t))return t;if(bt(t))return null;t=Oe(t)}return null}function jt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ye(e){return["html","body","#document"].includes(Ke(e))}function se(e){return Z(e).getComputedStyle(e)}function wt(e){return re(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Oe(e){if(Ke(e)==="html")return e;const t=e.assignedSlot||e.parentNode||an(e)&&e.host||me(e);return an(t)?t.host:t}function Pn(e){const t=Oe(e);return Ye(t)?e.ownerDocument?e.ownerDocument.body:e.body:ge(t)&&it(t)?t:Pn(t)}function nt(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=Pn(e),r=i===((o=e.ownerDocument)==null?void 0:o.body),s=Z(i);if(r){const l=It(s);return t.concat(s,s.visualViewport||[],it(i)?i:[],l&&n?nt(l):[])}return t.concat(i,nt(i,[],n))}function It(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Dn(e){const t=se(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const i=ge(e),r=i?e.offsetWidth:n,s=i?e.offsetHeight:o,l=ft(n)!==r||ft(o)!==s;return l&&(n=r,o=s),{width:n,height:o,$:l}}function Wt(e){return re(e)?e:e.contextElement}function We(e){const t=Wt(e);if(!ge(t))return he(1);const n=t.getBoundingClientRect(),{width:o,height:i,$:r}=Dn(t);let s=(r?ft(n.width):n.width)/o,l=(r?ft(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const $o=he(0);function Fn(e){const t=Z(e);return!jt()||!t.visualViewport?$o:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Xo(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Z(e)?!1:t}function De(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),r=Wt(e);let s=he(1);t&&(o?re(o)&&(s=We(o)):s=We(e));const l=Xo(r,n,o)?Fn(r):he(0);let a=(i.left+l.x)/s.x,c=(i.top+l.y)/s.y,p=i.width/s.x,d=i.height/s.y;if(r){const u=Z(r),g=o&&re(o)?Z(o):o;let b=u,w=It(b);for(;w&&o&&g!==b;){const _=We(w),x=w.getBoundingClientRect(),C=se(w),T=x.left+(w.clientLeft+parseFloat(C.paddingLeft))*_.x,v=x.top+(w.clientTop+parseFloat(C.paddingTop))*_.y;a*=_.x,c*=_.y,p*=_.x,d*=_.y,a+=T,c+=v,b=Z(w),w=It(b)}}return gt({width:p,height:d,x:a,y:c})}function Ut(e,t){const n=wt(e).scrollLeft;return t?t.left+n:De(me(e)).left+n}function Bn(e,t,n){n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=o.left+t.scrollLeft-(n?0:Ut(e,o)),r=o.top+t.scrollTop;return{x:i,y:r}}function Ko(e){let{elements:t,rect:n,offsetParent:o,strategy:i}=e;const r=i==="fixed",s=me(o),l=t?bt(t.floating):!1;if(o===s||l&&r)return n;let a={scrollLeft:0,scrollTop:0},c=he(1);const p=he(0),d=ge(o);if((d||!d&&!r)&&((Ke(o)!=="body"||it(s))&&(a=wt(o)),ge(o))){const g=De(o);c=We(o),p.x=g.x+o.clientLeft,p.y=g.y+o.clientTop}const u=s&&!d&&!r?Bn(s,a,!0):he(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-a.scrollLeft*c.x+p.x+u.x,y:n.y*c.y-a.scrollTop*c.y+p.y+u.y}}function Jo(e){return Array.from(e.getClientRects())}function Zo(e){const t=me(e),n=wt(e),o=e.ownerDocument.body,i=Le(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),r=Le(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let s=-n.scrollLeft+Ut(e);const l=-n.scrollTop;return se(o).direction==="rtl"&&(s+=Le(t.clientWidth,o.clientWidth)-i),{width:i,height:r,x:s,y:l}}function Qo(e,t){const n=Z(e),o=me(e),i=n.visualViewport;let r=o.clientWidth,s=o.clientHeight,l=0,a=0;if(i){r=i.width,s=i.height;const c=jt();(!c||c&&t==="fixed")&&(l=i.offsetLeft,a=i.offsetTop)}return{width:r,height:s,x:l,y:a}}function ei(e,t){const n=De(e,!0,t==="fixed"),o=n.top+e.clientTop,i=n.left+e.clientLeft,r=ge(e)?We(e):he(1),s=e.clientWidth*r.x,l=e.clientHeight*r.y,a=i*r.x,c=o*r.y;return{width:s,height:l,x:a,y:c}}function cn(e,t,n){let o;if(t==="viewport")o=Qo(e,n);else if(t==="document")o=Zo(me(e));else if(re(t))o=ei(t,n);else{const i=Fn(e);o={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return gt(o)}function Hn(e,t){const n=Oe(e);return n===t||!re(n)||Ye(n)?!1:se(n).position==="fixed"||Hn(n,t)}function ti(e,t){const n=t.get(e);if(n)return n;let o=nt(e,[],!1).filter(l=>re(l)&&Ke(l)!=="body"),i=null;const r=se(e).position==="fixed";let s=r?Oe(e):e;for(;re(s)&&!Ye(s);){const l=se(s),a=Vt(s);!a&&l.position==="fixed"&&(i=null),(r?!a&&!i:!a&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||it(s)&&!a&&Hn(e,s))?o=o.filter(p=>p!==s):i=l,s=Oe(s)}return t.set(e,o),o}function ni(e){let{element:t,boundary:n,rootBoundary:o,strategy:i}=e;const s=[...n==="clippingAncestors"?bt(t)?[]:ti(t,this._c):[].concat(n),o],l=s[0],a=s.reduce((c,p)=>{const d=cn(t,p,i);return c.top=Le(d.top,c.top),c.right=Ge(d.right,c.right),c.bottom=Ge(d.bottom,c.bottom),c.left=Le(d.left,c.left),c},cn(t,l,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function oi(e){const{width:t,height:n}=Dn(e);return{width:t,height:n}}function ii(e,t,n){const o=ge(t),i=me(t),r=n==="fixed",s=De(e,!0,r,t);let l={scrollLeft:0,scrollTop:0};const a=he(0);function c(){a.x=Ut(i)}if(o||!o&&!r)if((Ke(t)!=="body"||it(i))&&(l=wt(t)),o){const g=De(t,!0,r,t);a.x=g.x+t.clientLeft,a.y=g.y+t.clientTop}else i&&c();r&&!o&&i&&c();const p=i&&!o&&!r?Bn(i,l):he(0),d=s.left+l.scrollLeft-a.x-p.x,u=s.top+l.scrollTop-a.y-p.y;return{x:d,y:u,width:s.width,height:s.height}}function Ot(e){return se(e).position==="static"}function un(e,t){if(!ge(e)||se(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return me(e)===n&&(n=n.ownerDocument.body),n}function qn(e,t){const n=Z(e);if(bt(e))return n;if(!ge(e)){let i=Oe(e);for(;i&&!Ye(i);){if(re(i)&&!Ot(i))return i;i=Oe(i)}return n}let o=un(e,t);for(;o&&Go(o)&&Ot(o);)o=un(o,t);return o&&Ye(o)&&Ot(o)&&!Vt(o)?n:o||Yo(e)||n}const ri=async function(t){const n=this.getOffsetParent||qn,o=this.getDimensions,i=await o(t.floating);return{reference:ii(t.reference,await n(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function si(e){return se(e).direction==="rtl"}const li={convertOffsetParentRelativeRectToViewportRelativeRect:Ko,getDocumentElement:me,getClippingRect:ni,getOffsetParent:qn,getElementRects:ri,getClientRects:Jo,getDimensions:oi,getScale:We,isElement:re,isRTL:si};function Vn(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function ai(e,t){let n=null,o;const i=me(e);function r(){var l;clearTimeout(o),(l=n)==null||l.disconnect(),n=null}function s(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),r();const c=e.getBoundingClientRect(),{left:p,top:d,width:u,height:g}=c;if(l||t(),!u||!g)return;const b=lt(d),w=lt(i.clientWidth-(p+u)),_=lt(i.clientHeight-(d+g)),x=lt(p),T={rootMargin:-b+"px "+-w+"px "+-_+"px "+-x+"px",threshold:Le(0,Ge(1,a))||1};let v=!0;function A(N){const I=N[0].intersectionRatio;if(I!==a){if(!v)return s();I?s(!1,I):o=setTimeout(()=>{s(!1,1e-7)},1e3)}I===1&&!Vn(c,e.getBoundingClientRect())&&s(),v=!1}try{n=new IntersectionObserver(A,J({},T,{root:i.ownerDocument}))}catch{n=new IntersectionObserver(A,T)}n.observe(e)}return s(!0),r}function ci(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=o,c=Wt(e),p=i||r?[...c?nt(c):[],...nt(t)]:[];p.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),r&&x.addEventListener("resize",n)});const d=c&&l?ai(c,n):null;let u=-1,g=null;s&&(g=new ResizeObserver(x=>{let[C]=x;C&&C.target===c&&g&&(g.unobserve(t),cancelAnimationFrame(u),u=requestAnimationFrame(()=>{var T;(T=g)==null||T.observe(t)})),n()}),c&&!a&&g.observe(c),g.observe(t));let b,w=a?De(e):null;a&&_();function _(){const x=De(e);w&&!Vn(w,x)&&n(),w=x,b=requestAnimationFrame(_)}return n(),()=>{var x;p.forEach(C=>{i&&C.removeEventListener("scroll",n),r&&C.removeEventListener("resize",n)}),d==null||d(),(x=g)==null||x.disconnect(),g=null,a&&cancelAnimationFrame(b)}}const ui=jo,fi=Uo,di=Wo,hi=qo,gi=zo,pi=(e,t,n)=>{const o=new Map,i=J({platform:li},n),r=J({},i.platform,{_c:o});return Ho(e,t,J({},i,{platform:r}))};function mi(e){e.cleanup&&e.cleanup();const t=e._getResolvedAttachToOptions();let n=t.element;const o=xi(t,e),i=kn(t);return i&&(n=document.body,e.shepherdElementComponent.getElement().classList.add("shepherd-centered")),e.cleanup=ci(n,e.el,()=>{if(!e.el){e.cleanup==null||e.cleanup();return}yi(n,e,o,i)}),e.target=t.element,o}function bi(e,t){return{floatingUIOptions:Pt(e.floatingUIOptions||{},t.floatingUIOptions||{})}}function wi(e){e.cleanup&&e.cleanup(),e.cleanup=null}function yi(e,t,n,o){return pi(e,t.el,n).then(Ei(t,o)).then(i=>new Promise(r=>{setTimeout(()=>r(i),300)})).then(i=>{i!=null&&i.el&&(i.el.tabIndex=0,i.el.focus({preventScroll:!0}))})}function Ei(e,t){return({x:n,y:o,placement:i,middlewareData:r})=>(e.el&&(t?Object.assign(e.el.style,{position:"fixed",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}):Object.assign(e.el.style,{position:"absolute",left:`${n}px`,top:`${o}px`}),e.el.dataset.popperPlacement=i,vi(e.el,r)),e)}function vi(e,t){const n=e.querySelector(".shepherd-arrow");if(ze(n)&&t.arrow){const{x:o,y:i}=t.arrow;Object.assign(n.style,{left:o!=null?`${o}px`:"",top:i!=null?`${i}px`:""})}}function xi(e,t){var n,o,i;const r={strategy:"absolute"};r.middleware=[];const s=_i(t),l=kn(e),a=(n=e.on)==null?void 0:n.includes("auto"),c=(e==null||(o=e.on)==null?void 0:o.includes("-start"))||(e==null||(i=e.on)==null?void 0:i.includes("-end"));if(!l){if(a){var p;r.middleware.push(ui({crossAxis:!0,alignment:c?e==null||(p=e.on)==null?void 0:p.split("-").pop():null}))}else r.middleware.push(di());if(r.middleware.push(fi({limiter:gi(),crossAxis:!0})),s){const d=typeof t.options.arrow=="object"?t.options.arrow:{padding:4};r.middleware.push(hi({element:s,padding:c?d.padding:0}))}a||(r.placement=e.on)}return Pt(r,t.options.floatingUIOptions||{})}function _i(e){return e.options.arrow&&e.el?e.el.querySelector(".shepherd-arrow"):!1}function Q(){}function Si(e,t){for(const n in t)e[n]=t[n];return e}function jn(e){return e()}function fn(){return Object.create(null)}function rt(e){e.forEach(jn)}function zt(e){return typeof e=="function"}function ve(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Oi(e){return Object.keys(e).length===0}function $e(e,t){e.appendChild(t)}function le(e,t,n){e.insertBefore(t,n||null)}function ne(e){e.parentNode&&e.parentNode.removeChild(e)}function Ti(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function pe(e){return document.createElement(e)}function dn(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Wn(e){return document.createTextNode(e)}function pt(){return Wn(" ")}function Ai(){return Wn("")}function yt(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function M(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}const Ci=["width","height"];function hn(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const o in t)t[o]==null?e.removeAttribute(o):o==="style"?e.style.cssText=t[o]:o==="__value"?e.value=e[o]=t[o]:n[o]&&n[o].set&&Ci.indexOf(o)===-1?e[o]=t[o]:M(e,o,t[o])}function Ii(e){return Array.from(e.childNodes)}function qe(e,t,n){e.classList.toggle(t,!!n)}let ot;function et(e){ot=e}function Gt(){if(!ot)throw new Error("Function called outside component initialization");return ot}function ki(e){Gt().$$.on_mount.push(e)}function Yt(e){Gt().$$.after_update.push(e)}function Li(e){Gt().$$.on_destroy.push(e)}const je=[],Xe=[];let Ue=[];const gn=[],Ri=Promise.resolve();let kt=!1;function Ni(){kt||(kt=!0,Ri.then(Un))}function Lt(e){Ue.push(e)}const Tt=new Set;let Ve=0;function Un(){if(Ve!==0)return;const e=ot;do{try{for(;Ve<je.length;){const t=je[Ve];Ve++,et(t),Mi(t.$$)}}catch(t){throw je.length=0,Ve=0,t}for(et(null),je.length=0,Ve=0;Xe.length;)Xe.pop()();for(let t=0;t<Ue.length;t+=1){const n=Ue[t];Tt.has(n)||(Tt.add(n),n())}Ue.length=0}while(je.length);for(;gn.length;)gn.pop()();kt=!1,Tt.clear(),et(e)}function Mi(e){if(e.fragment!==null){e.update(),rt(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Lt)}}function Pi(e){const t=[],n=[];Ue.forEach(o=>e.indexOf(o)===-1?t.push(o):n.push(o)),n.forEach(o=>o()),Ue=t}const ct=new Set;let ke;function Ne(){ke={r:0,c:[],p:ke}}function Me(){ke.r||rt(ke.c),ke=ke.p}function R(e,t){e&&e.i&&(ct.delete(e),e.i(t))}function H(e,t,n,o){if(e&&e.o){if(ct.has(e))return;ct.add(e),ke.c.push(()=>{ct.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}else o&&o()}function pn(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Di(e,t){const n={},o={},i={$$scope:1};let r=e.length;for(;r--;){const s=e[r],l=t[r];if(l){for(const a in s)a in l||(o[a]=1);for(const a in l)i[a]||(n[a]=l[a],i[a]=1);e[r]=l}else for(const a in s)i[a]=1}for(const s in o)s in n||(n[s]=void 0);return n}function Fe(e){e&&e.c()}function Ae(e,t,n){const{fragment:o,after_update:i}=e.$$;o&&o.m(t,n),Lt(()=>{const r=e.$$.on_mount.map(jn).filter(zt);e.$$.on_destroy?e.$$.on_destroy.push(...r):rt(r),e.$$.on_mount=[]}),i.forEach(Lt)}function Ce(e,t){const n=e.$$;n.fragment!==null&&(Pi(n.after_update),rt(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Fi(e,t){e.$$.dirty[0]===-1&&(je.push(e),Ni(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function xe(e,t,n,o,i,r,s=null,l=[-1]){const a=ot;et(e);const c=e.$$={fragment:null,ctx:[],props:r,update:Q,not_equal:i,bound:fn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:fn(),dirty:l,skip_bound:!1,root:t.target||a.$$.root};s&&s(c.root);let p=!1;if(c.ctx=n?n(e,t.props||{},(d,u,...g)=>{const b=g.length?g[0]:u;return c.ctx&&i(c.ctx[d],c.ctx[d]=b)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](b),p&&Fi(e,d)),u}):[],c.update(),p=!0,rt(c.before_update),c.fragment=o?o(c.ctx):!1,t.target){if(t.hydrate){const d=Ii(t.target);c.fragment&&c.fragment.l(d),d.forEach(ne)}else c.fragment&&c.fragment.c();t.intro&&R(e.$$.fragment),Ae(e,t.target,t.anchor),Un()}et(a)}class _e{constructor(){this.$$=void 0,this.$$set=void 0}$destroy(){Ce(this,1),this.$destroy=Q}$on(t,n){if(!zt(n))return Q;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(t){this.$$set&&!Oi(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Bi="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Bi);function Hi(e){let t,n,o,i,r;return{c(){t=pe("button"),M(t,"aria-label",n=e[3]?e[3]:null),M(t,"class",o=`${e[1]||""} shepherd-button ${e[4]?"shepherd-button-secondary":""}`),t.disabled=e[2],M(t,"tabindex","0"),M(t,"type","button")},m(s,l){le(s,t,l),t.innerHTML=e[5],i||(r=yt(t,"click",function(){zt(e[0])&&e[0].apply(this,arguments)}),i=!0)},p(s,[l]){e=s,l&32&&(t.innerHTML=e[5]),l&8&&n!==(n=e[3]?e[3]:null)&&M(t,"aria-label",n),l&18&&o!==(o=`${e[1]||""} shepherd-button ${e[4]?"shepherd-button-secondary":""}`)&&M(t,"class",o),l&4&&(t.disabled=e[2])},i:Q,o:Q,d(s){s&&ne(t),i=!1,r()}}}function qi(e,t,n){let{config:o,step:i}=t,r,s,l,a,c,p;function d(u){return Se(u)?u=u.call(i):u}return e.$$set=u=>{"config"in u&&n(6,o=u.config),"step"in u&&n(7,i=u.step)},e.$$.update=()=>{e.$$.dirty&192&&(n(0,r=o.action?o.action.bind(i.tour):null),n(1,s=o.classes),n(2,l=o.disabled?d(o.disabled):!1),n(3,a=o.label?d(o.label):null),n(4,c=o.secondary),n(5,p=o.text?d(o.text):null))},[r,s,l,a,c,p,o,i]}class Vi extends _e{constructor(t){super(),xe(this,t,qi,Hi,ve,{config:6,step:7})}}function mn(e,t,n){const o=e.slice();return o[2]=t[n],o}function bn(e){let t,n,o=pn(e[1]),i=[];for(let s=0;s<o.length;s+=1)i[s]=wn(mn(e,o,s));const r=s=>H(i[s],1,1,()=>{i[s]=null});return{c(){for(let s=0;s<i.length;s+=1)i[s].c();t=Ai()},m(s,l){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(s,l);le(s,t,l),n=!0},p(s,l){if(l&3){o=pn(s[1]);let a;for(a=0;a<o.length;a+=1){const c=mn(s,o,a);i[a]?(i[a].p(c,l),R(i[a],1)):(i[a]=wn(c),i[a].c(),R(i[a],1),i[a].m(t.parentNode,t))}for(Ne(),a=o.length;a<i.length;a+=1)r(a);Me()}},i(s){if(!n){for(let l=0;l<o.length;l+=1)R(i[l]);n=!0}},o(s){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)H(i[l]);n=!1},d(s){s&&ne(t),Ti(i,s)}}}function wn(e){let t,n;return t=new Vi({props:{config:e[2],step:e[0]}}),{c(){Fe(t.$$.fragment)},m(o,i){Ae(t,o,i),n=!0},p(o,i){const r={};i&2&&(r.config=o[2]),i&1&&(r.step=o[0]),t.$set(r)},i(o){n||(R(t.$$.fragment,o),n=!0)},o(o){H(t.$$.fragment,o),n=!1},d(o){Ce(t,o)}}}function ji(e){let t,n,o=e[1]&&bn(e);return{c(){t=pe("footer"),o&&o.c(),M(t,"class","shepherd-footer")},m(i,r){le(i,t,r),o&&o.m(t,null),n=!0},p(i,[r]){i[1]?o?(o.p(i,r),r&2&&R(o,1)):(o=bn(i),o.c(),R(o,1),o.m(t,null)):o&&(Ne(),H(o,1,1,()=>{o=null}),Me())},i(i){n||(R(o),n=!0)},o(i){H(o),n=!1},d(i){i&&ne(t),o&&o.d()}}}function Wi(e,t,n){let o,{step:i}=t;return e.$$set=r=>{"step"in r&&n(0,i=r.step)},e.$$.update=()=>{e.$$.dirty&1&&n(1,o=i.options.buttons)},[i,o]}class Ui extends _e{constructor(t){super(),xe(this,t,Wi,ji,ve,{step:0})}}function zi(e){let t,n,o,i,r;return{c(){t=pe("button"),n=pe("span"),n.textContent="×",M(n,"aria-hidden","true"),M(t,"aria-label",o=e[0].label?e[0].label:"Close Tour"),M(t,"class","shepherd-cancel-icon"),M(t,"type","button")},m(s,l){le(s,t,l),$e(t,n),i||(r=yt(t,"click",e[1]),i=!0)},p(s,[l]){l&1&&o!==(o=s[0].label?s[0].label:"Close Tour")&&M(t,"aria-label",o)},i:Q,o:Q,d(s){s&&ne(t),i=!1,r()}}}function Gi(e,t,n){let{cancelIcon:o,step:i}=t;const r=s=>{s.preventDefault(),i.cancel()};return e.$$set=s=>{"cancelIcon"in s&&n(0,o=s.cancelIcon),"step"in s&&n(2,i=s.step)},[o,r,i]}class Yi extends _e{constructor(t){super(),xe(this,t,Gi,zi,ve,{cancelIcon:0,step:2})}}function $i(e){let t;return{c(){t=pe("h3"),M(t,"id",e[1]),M(t,"class","shepherd-title")},m(n,o){le(n,t,o),e[3](t)},p(n,[o]){o&2&&M(t,"id",n[1])},i:Q,o:Q,d(n){n&&ne(t),e[3](null)}}}function Xi(e,t,n){let{labelId:o,element:i,title:r}=t;Yt(()=>{Se(r)&&n(2,r=r()),n(0,i.innerHTML=r,i)});function s(l){Xe[l?"unshift":"push"](()=>{i=l,n(0,i)})}return e.$$set=l=>{"labelId"in l&&n(1,o=l.labelId),"element"in l&&n(0,i=l.element),"title"in l&&n(2,r=l.title)},[i,o,r,s]}class Ki extends _e{constructor(t){super(),xe(this,t,Xi,$i,ve,{labelId:1,element:0,title:2})}}function yn(e){let t,n;return t=new Ki({props:{labelId:e[0],title:e[2]}}),{c(){Fe(t.$$.fragment)},m(o,i){Ae(t,o,i),n=!0},p(o,i){const r={};i&1&&(r.labelId=o[0]),i&4&&(r.title=o[2]),t.$set(r)},i(o){n||(R(t.$$.fragment,o),n=!0)},o(o){H(t.$$.fragment,o),n=!1},d(o){Ce(t,o)}}}function En(e){let t,n;return t=new Yi({props:{cancelIcon:e[3],step:e[1]}}),{c(){Fe(t.$$.fragment)},m(o,i){Ae(t,o,i),n=!0},p(o,i){const r={};i&8&&(r.cancelIcon=o[3]),i&2&&(r.step=o[1]),t.$set(r)},i(o){n||(R(t.$$.fragment,o),n=!0)},o(o){H(t.$$.fragment,o),n=!1},d(o){Ce(t,o)}}}function Ji(e){let t,n,o,i=e[2]&&yn(e),r=e[3]&&e[3].enabled&&En(e);return{c(){t=pe("header"),i&&i.c(),n=pt(),r&&r.c(),M(t,"class","shepherd-header")},m(s,l){le(s,t,l),i&&i.m(t,null),$e(t,n),r&&r.m(t,null),o=!0},p(s,[l]){s[2]?i?(i.p(s,l),l&4&&R(i,1)):(i=yn(s),i.c(),R(i,1),i.m(t,n)):i&&(Ne(),H(i,1,1,()=>{i=null}),Me()),s[3]&&s[3].enabled?r?(r.p(s,l),l&8&&R(r,1)):(r=En(s),r.c(),R(r,1),r.m(t,null)):r&&(Ne(),H(r,1,1,()=>{r=null}),Me())},i(s){o||(R(i),R(r),o=!0)},o(s){H(i),H(r),o=!1},d(s){s&&ne(t),i&&i.d(),r&&r.d()}}}function Zi(e,t,n){let{labelId:o,step:i}=t,r,s;return e.$$set=l=>{"labelId"in l&&n(0,o=l.labelId),"step"in l&&n(1,i=l.step)},e.$$.update=()=>{e.$$.dirty&2&&(n(2,r=i.options.title),n(3,s=i.options.cancelIcon))},[o,i,r,s]}class Qi extends _e{constructor(t){super(),xe(this,t,Zi,Ji,ve,{labelId:0,step:1})}}function er(e){let t;return{c(){t=pe("div"),M(t,"class","shepherd-text"),M(t,"id",e[1])},m(n,o){le(n,t,o),e[3](t)},p(n,[o]){o&2&&M(t,"id",n[1])},i:Q,o:Q,d(n){n&&ne(t),e[3](null)}}}function tr(e,t,n){let{descriptionId:o,element:i,step:r}=t;Yt(()=>{let{text:l}=r.options;Se(l)&&(l=l.call(r)),ze(l)?i.appendChild(l):n(0,i.innerHTML=l,i)});function s(l){Xe[l?"unshift":"push"](()=>{i=l,n(0,i)})}return e.$$set=l=>{"descriptionId"in l&&n(1,o=l.descriptionId),"element"in l&&n(0,i=l.element),"step"in l&&n(2,r=l.step)},[i,o,r,s]}class nr extends _e{constructor(t){super(),xe(this,t,tr,er,ve,{descriptionId:1,element:0,step:2})}}function vn(e){let t,n;return t=new Qi({props:{labelId:e[1],step:e[2]}}),{c(){Fe(t.$$.fragment)},m(o,i){Ae(t,o,i),n=!0},p(o,i){const r={};i&2&&(r.labelId=o[1]),i&4&&(r.step=o[2]),t.$set(r)},i(o){n||(R(t.$$.fragment,o),n=!0)},o(o){H(t.$$.fragment,o),n=!1},d(o){Ce(t,o)}}}function xn(e){let t,n;return t=new nr({props:{descriptionId:e[0],step:e[2]}}),{c(){Fe(t.$$.fragment)},m(o,i){Ae(t,o,i),n=!0},p(o,i){const r={};i&1&&(r.descriptionId=o[0]),i&4&&(r.step=o[2]),t.$set(r)},i(o){n||(R(t.$$.fragment,o),n=!0)},o(o){H(t.$$.fragment,o),n=!1},d(o){Ce(t,o)}}}function _n(e){let t,n;return t=new Ui({props:{step:e[2]}}),{c(){Fe(t.$$.fragment)},m(o,i){Ae(t,o,i),n=!0},p(o,i){const r={};i&4&&(r.step=o[2]),t.$set(r)},i(o){n||(R(t.$$.fragment,o),n=!0)},o(o){H(t.$$.fragment,o),n=!1},d(o){Ce(t,o)}}}function or(e){let t,n=!$(e[2].options.title)||e[2].options.cancelIcon&&e[2].options.cancelIcon.enabled,o,i=!$(e[2].options.text),r,s=Array.isArray(e[2].options.buttons)&&e[2].options.buttons.length,l,a=n&&vn(e),c=i&&xn(e),p=s&&_n(e);return{c(){t=pe("div"),a&&a.c(),o=pt(),c&&c.c(),r=pt(),p&&p.c(),M(t,"class","shepherd-content")},m(d,u){le(d,t,u),a&&a.m(t,null),$e(t,o),c&&c.m(t,null),$e(t,r),p&&p.m(t,null),l=!0},p(d,[u]){u&4&&(n=!$(d[2].options.title)||d[2].options.cancelIcon&&d[2].options.cancelIcon.enabled),n?a?(a.p(d,u),u&4&&R(a,1)):(a=vn(d),a.c(),R(a,1),a.m(t,o)):a&&(Ne(),H(a,1,1,()=>{a=null}),Me()),u&4&&(i=!$(d[2].options.text)),i?c?(c.p(d,u),u&4&&R(c,1)):(c=xn(d),c.c(),R(c,1),c.m(t,r)):c&&(Ne(),H(c,1,1,()=>{c=null}),Me()),u&4&&(s=Array.isArray(d[2].options.buttons)&&d[2].options.buttons.length),s?p?(p.p(d,u),u&4&&R(p,1)):(p=_n(d),p.c(),R(p,1),p.m(t,null)):p&&(Ne(),H(p,1,1,()=>{p=null}),Me())},i(d){l||(R(a),R(c),R(p),l=!0)},o(d){H(a),H(c),H(p),l=!1},d(d){d&&ne(t),a&&a.d(),c&&c.d(),p&&p.d()}}}function ir(e,t,n){let{descriptionId:o,labelId:i,step:r}=t;return e.$$set=s=>{"descriptionId"in s&&n(0,o=s.descriptionId),"labelId"in s&&n(1,i=s.labelId),"step"in s&&n(2,r=s.step)},[o,i,r]}class rr extends _e{constructor(t){super(),xe(this,t,ir,or,ve,{descriptionId:0,labelId:1,step:2})}}function Sn(e){let t;return{c(){t=pe("div"),M(t,"class","shepherd-arrow"),M(t,"data-popper-arrow","")},m(n,o){le(n,t,o)},d(n){n&&ne(t)}}}function sr(e){let t,n,o,i,r,s,l,a,c=e[4].options.arrow&&e[4].options.attachTo&&e[4].options.attachTo.element&&e[4].options.attachTo.on&&Sn();o=new rr({props:{descriptionId:e[2],labelId:e[3],step:e[4]}});let p=[{"aria-describedby":i=$(e[4].options.text)?null:e[2]},{"aria-labelledby":r=e[4].options.title?e[3]:null},e[1],{open:"true"}],d={};for(let u=0;u<p.length;u+=1)d=Si(d,p[u]);return{c(){t=pe("dialog"),c&&c.c(),n=pt(),Fe(o.$$.fragment),hn(t,d),qe(t,"shepherd-has-cancel-icon",e[5]),qe(t,"shepherd-has-title",e[6]),qe(t,"shepherd-element",!0)},m(u,g){le(u,t,g),c&&c.m(t,null),$e(t,n),Ae(o,t,null),e[18](t),s=!0,l||(a=yt(t,"keydown",e[7]),l=!0)},p(u,[g]){u[4].options.arrow&&u[4].options.attachTo&&u[4].options.attachTo.element&&u[4].options.attachTo.on?c||(c=Sn(),c.c(),c.m(t,n)):c&&(c.d(1),c=null);const b={};g&4&&(b.descriptionId=u[2]),g&8&&(b.labelId=u[3]),g&16&&(b.step=u[4]),o.$set(b),hn(t,d=Di(p,[(!s||g&20&&i!==(i=$(u[4].options.text)?null:u[2]))&&{"aria-describedby":i},(!s||g&24&&r!==(r=u[4].options.title?u[3]:null))&&{"aria-labelledby":r},g&2&&u[1],{open:"true"}])),qe(t,"shepherd-has-cancel-icon",u[5]),qe(t,"shepherd-has-title",u[6]),qe(t,"shepherd-element",!0)},i(u){s||(R(o.$$.fragment,u),s=!0)},o(u){H(o.$$.fragment,u),s=!1},d(u){u&&ne(t),c&&c.d(),Ce(o),e[18](null),l=!1,a()}}}const lr=9,ar=27,cr=37,ur=39;function On(e){return e.split(" ").filter(t=>!!t.length)}function fr(e,t,n){let{attachToElement:o,attachTofocusableDialogElements:i,classPrefix:r,element:s,descriptionId:l,focusableAttachToElements:a,firstFocusableAttachToElement:c,lastFocusableAttachToElement:p,firstFocusableDialogElement:d,focusableDialogElements:u,lastFocusableDialogElement:g,labelId:b,step:w,dataStepId:_}=t,x,C,T;const v=()=>s;ki(()=>{n(1,_={[`data-${r}shepherd-step-id`]:w.id}),n(13,u=[...s.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]')]),n(12,d=u[0]),n(14,g=u[u.length-1]);const E=w._getResolvedAttachToOptions();E!=null&&E.element&&(n(8,o=E.element),n(8,o.tabIndex=0,o),n(9,a=[o,...o.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]')]),n(10,c=a[0]),n(11,p=a[a.length-1]),o.addEventListener("keydown",V))}),Li(()=>{var E;(E=o)==null||E.removeEventListener("keydown",V)}),Yt(()=>{T!==w.options.classes&&A()});function A(){N(T),T=w.options.classes,I(T)}function N(E){if(tt(E)){const L=On(E);L.length&&s.classList.remove(...L)}}function I(E){if(tt(E)){const L=On(E);L.length&&s.classList.add(...L)}}const V=E=>{const{tour:L}=w;switch(E.keyCode){case lr:if((!a||a.length===0)&&u.length===0){E.preventDefault();break}if(E.shiftKey)if(document.activeElement===d||document.activeElement.classList.contains("shepherd-element")){var k;E.preventDefault(),((k=p)!=null?k:g).focus()}else document.activeElement===c&&(E.preventDefault(),g.focus());else if(document.activeElement===g){var F;E.preventDefault(),((F=c)!=null?F:d).focus()}else document.activeElement===p&&(E.preventDefault(),d.focus());break;case ar:L.options.exitOnEsc&&(E.preventDefault(),E.stopPropagation(),w.cancel());break;case cr:L.options.keyboardNavigation&&(E.preventDefault(),E.stopPropagation(),L.back());break;case ur:L.options.keyboardNavigation&&(E.preventDefault(),E.stopPropagation(),L.next());break}};function j(E){Xe[E?"unshift":"push"](()=>{s=E,n(0,s)})}return e.$$set=E=>{"attachToElement"in E&&n(8,o=E.attachToElement),"attachTofocusableDialogElements"in E&&n(15,i=E.attachTofocusableDialogElements),"classPrefix"in E&&n(16,r=E.classPrefix),"element"in E&&n(0,s=E.element),"descriptionId"in E&&n(2,l=E.descriptionId),"focusableAttachToElements"in E&&n(9,a=E.focusableAttachToElements),"firstFocusableAttachToElement"in E&&n(10,c=E.firstFocusableAttachToElement),"lastFocusableAttachToElement"in E&&n(11,p=E.lastFocusableAttachToElement),"firstFocusableDialogElement"in E&&n(12,d=E.firstFocusableDialogElement),"focusableDialogElements"in E&&n(13,u=E.focusableDialogElements),"lastFocusableDialogElement"in E&&n(14,g=E.lastFocusableDialogElement),"labelId"in E&&n(3,b=E.labelId),"step"in E&&n(4,w=E.step),"dataStepId"in E&&n(1,_=E.dataStepId)},e.$$.update=()=>{e.$$.dirty&16&&(n(5,x=w.options&&w.options.cancelIcon&&w.options.cancelIcon.enabled),n(6,C=w.options&&w.options.title))},[s,_,l,b,w,x,C,V,o,a,c,p,d,u,g,i,r,v,j]}class dr extends _e{constructor(t){super(),xe(this,t,fr,sr,ve,{attachToElement:8,attachTofocusableDialogElements:15,classPrefix:16,element:0,descriptionId:2,focusableAttachToElements:9,firstFocusableAttachToElement:10,lastFocusableAttachToElement:11,firstFocusableDialogElement:12,focusableDialogElements:13,lastFocusableDialogElement:14,labelId:3,step:4,dataStepId:1,getElement:17})}get getElement(){return this.$$.ctx[17]}}class Rt extends Nt{constructor(t,n={}){return super(),this._resolvedAttachTo=void 0,this._resolvedExtraHighlightElements=void 0,this.classPrefix=void 0,this.el=void 0,this.target=void 0,this.tour=void 0,this.tour=t,this.classPrefix=this.tour.options?In(this.tour.options.classPrefix):"",this.styles=t.styles,this._resolvedAttachTo=null,Dt(this),this._setOptions(n),this}cancel(){this.tour.cancel(),this.trigger("cancel")}complete(){this.tour.complete(),this.trigger("complete")}destroy(){wi(this),ze(this.el)&&(this.el.remove(),this.el=null),this._updateStepTargetOnHide(),this.trigger("destroy")}getTour(){return this.tour}hide(){var t;(t=this.tour.modal)==null||t.hide(),this.trigger("before-hide"),this.el&&(this.el.hidden=!0),this._updateStepTargetOnHide(),this.trigger("hide")}_resolveExtraHiglightElements(){return this._resolvedExtraHighlightElements=Co(this),this._resolvedExtraHighlightElements}_resolveAttachToOptions(){return this._resolvedAttachTo=Ao(this),this._resolvedAttachTo}_getResolvedAttachToOptions(){return this._resolvedAttachTo===null?this._resolveAttachToOptions():this._resolvedAttachTo}isOpen(){return!!(this.el&&!this.el.hidden)}show(){return Se(this.options.beforeShowPromise)?Promise.resolve(this.options.beforeShowPromise()).then(()=>this._show()):Promise.resolve(this._show())}updateStepOptions(t){Object.assign(this.options,t),this.shepherdElementComponent&&this.shepherdElementComponent.$set({step:this})}getElement(){return this.el}getTarget(){return this.target}_createTooltipContent(){const t=`${this.id}-description`,n=`${this.id}-label`;return this.shepherdElementComponent=new dr({target:this.tour.options.stepsContainer||document.body,props:{classPrefix:this.classPrefix,descriptionId:t,labelId:n,step:this,styles:this.styles}}),this.shepherdElementComponent.getElement()}_scrollTo(t){const{element:n}=this._getResolvedAttachToOptions();Se(this.options.scrollToHandler)?this.options.scrollToHandler(n):ro(n)&&typeof n.scrollIntoView=="function"&&n.scrollIntoView(t)}_getClassOptions(t){const n=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions,o=t.classes?t.classes:"",i=n&&n.classes?n.classes:"",r=[...o.split(" "),...i.split(" ")],s=new Set(r);return Array.from(s).join(" ").trim()}_setOptions(t={}){let n=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions;n=Pt({},n||{}),this.options=Object.assign({arrow:!0},n,t,bi(n,t));const{when:o}=this.options;this.options.classes=this._getClassOptions(t),this.destroy(),this.id=this.options.id||`step-${Ln()}`,o&&Object.keys(o).forEach(i=>{this.on(i,o[i],this)})}_setupElements(){$(this.el)||this.destroy(),this.el=this._createTooltipContent(),this.options.advanceOn&&So(this),mi(this)}_show(){var t;this.trigger("before-show"),this._resolveAttachToOptions(),this._resolveExtraHiglightElements(),this._setupElements(),this.tour.modal||this.tour.setupModal(),(t=this.tour.modal)==null||t.setupForStep(this),this._styleTargetElementForStep(this),this.el&&(this.el.hidden=!1),this.options.scrollTo&&setTimeout(()=>{this._scrollTo(this.options.scrollTo)}),this.el&&(this.el.hidden=!1);const n=this.shepherdElementComponent.getElement(),o=this.target||document.body,i=this._resolvedExtraHighlightElements;o.classList.add(`${this.classPrefix}shepherd-enabled`),o.classList.add(`${this.classPrefix}shepherd-target`),n.classList.add("shepherd-enabled"),i==null||i.forEach(r=>{r.classList.add(`${this.classPrefix}shepherd-enabled`),r.classList.add(`${this.classPrefix}shepherd-target`)}),this.trigger("show")}_styleTargetElementForStep(t){const n=t.target,o=t._resolvedExtraHighlightElements;if(!n)return;const i=t.options.highlightClass;i&&(n.classList.add(i),o==null||o.forEach(r=>r.classList.add(i))),n.classList.remove("shepherd-target-click-disabled"),o==null||o.forEach(r=>r.classList.remove("shepherd-target-click-disabled")),t.options.canClickTarget===!1&&(n.classList.add("shepherd-target-click-disabled"),o==null||o.forEach(r=>r.classList.add("shepherd-target-click-disabled")))}_updateStepTargetOnHide(){const t=this.target||document.body,n=this._resolvedExtraHighlightElements,o=this.options.highlightClass;o&&(t.classList.remove(o),n==null||n.forEach(i=>i.classList.remove(o))),t.classList.remove("shepherd-target-click-disabled",`${this.classPrefix}shepherd-enabled`,`${this.classPrefix}shepherd-target`),n==null||n.forEach(i=>{i.classList.remove("shepherd-target-click-disabled",`${this.classPrefix}shepherd-enabled`,`${this.classPrefix}shepherd-target`)})}}function hr(e){if(e){const{steps:t}=e;t.forEach(n=>{n.options&&n.options.canClickTarget===!1&&n.options.attachTo&&(ze(n.target)&&n.target.classList.remove("shepherd-target-click-disabled"),n._resolvedExtraHighlightElements&&n._resolvedExtraHighlightElements.forEach(o=>{ze(o)&&o.classList.remove("shepherd-target-click-disabled")}))})}}function gr(e){let t="";const{innerWidth:n,innerHeight:o}=window;return e.forEach(i=>{const{width:r,height:s,x:l=0,y:a=0,r:c=0}=i,{topLeft:p=0,topRight:d=0,bottomRight:u=0,bottomLeft:g=0}=typeof c=="number"?{topLeft:c,topRight:c,bottomRight:c,bottomLeft:c}:c;t+=`M${l+p},${a}      a${p},${p},0,0,0-${p},${p}      V${s+a-g}      a${g},${g},0,0,0,${g},${g}      H${r+l-u}      a${u},${u},0,0,0,${u}-${u}      V${a+d}      a${d},${d},0,0,0-${d}-${d}      Z`}),`M${n},${o}          H0          V0          H${n}          V${o}          Z          ${t}`.replace(/\s/g,"")}function pr(e){let t,n,o,i,r;return{c(){t=dn("svg"),n=dn("path"),M(n,"d",e[2]),M(t,"class",o=`${e[1]?"shepherd-modal-is-visible":""} shepherd-modal-overlay-container`)},m(s,l){le(s,t,l),$e(t,n),e[11](t),i||(r=yt(t,"touchmove",e[3]),i=!0)},p(s,[l]){l&4&&M(n,"d",s[2]),l&2&&o!==(o=`${s[1]?"shepherd-modal-is-visible":""} shepherd-modal-overlay-container`)&&M(t,"class",o)},i:Q,o:Q,d(s){s&&ne(t),e[11](null),i=!1,r()}}}function zn(e){if(!e)return null;const n=e instanceof HTMLElement&&window.getComputedStyle(e).overflowY;return n!=="hidden"&&n!=="visible"&&e.scrollHeight>=e.clientHeight?e:zn(e.parentElement)}function mr(e){let t={top:0,left:0};if(!e)return t;let n=e.ownerDocument.defaultView;for(;n!==window.top;){var o;const s=(o=n)==null?void 0:o.frameElement;if(s){var i,r;const l=s.getBoundingClientRect();t.top+=l.top+((i=l.scrollTop)!=null?i:0),t.left+=l.left+((r=l.scrollLeft)!=null?r:0)}n=n.parent}return t}function br(e,t){const n=e.getBoundingClientRect();let o=n.y||n.top,i=n.bottom||o+n.height;if(t){const s=t.getBoundingClientRect(),l=s.y||s.top,a=s.bottom||l+s.height;o=Math.max(o,l),i=Math.min(i,a)}const r=Math.max(i-o,0);return{y:o,height:r}}function wr(e,t,n){let{element:o,openingProperties:i}=t,r=!1,s,l;c();const a=()=>o;function c(){n(4,i=[{width:0,height:0,x:0,y:0,r:0}])}function p(){n(1,r=!1),x()}function d(v=0,A=0,N=0,I=0,V,j,E){if(j){const L=[j,...E||[]];n(4,i=[]);for(const k of L){if(!k||L.indexOf(k)!==L.lastIndexOf(k))continue;const{y:F,height:q}=br(k,V),{x:K,width:ee,left:G}=k.getBoundingClientRect();L.some(ae=>{if(ae===k)return!1;const Y=ae.getBoundingClientRect();return K>=Y.left&&K+ee<=Y.right&&F>=Y.top&&F+q<=Y.bottom})||i.push({width:ee+v*2,height:q+v*2,x:(K||G)+N-v,y:F+I-v,r:A})}}else c()}function u(v){x(),v.tour.options.useModalOverlay?(C(v),g()):p()}function g(){n(1,r=!0)}const b=v=>{v.preventDefault()},w=v=>{v.stopPropagation()};function _(){window.addEventListener("touchmove",b,{passive:!1})}function x(){s&&(cancelAnimationFrame(s),s=void 0),window.removeEventListener("touchmove",b,{passive:!1})}function C(v){const{modalOverlayOpeningPadding:A,modalOverlayOpeningRadius:N,modalOverlayOpeningXOffset:I=0,modalOverlayOpeningYOffset:V=0}=v.options,j=mr(v.target),E=zn(v.target),L=()=>{s=void 0,d(A,N,I+j.left,V+j.top,E,v.target,v._resolvedExtraHighlightElements),s=requestAnimationFrame(L)};L(),_()}function T(v){Xe[v?"unshift":"push"](()=>{o=v,n(0,o)})}return e.$$set=v=>{"element"in v&&n(0,o=v.element),"openingProperties"in v&&n(4,i=v.openingProperties)},e.$$.update=()=>{e.$$.dirty&16&&n(2,l=gr(i))},[o,r,l,w,i,a,c,p,d,u,g,T]}class yr extends _e{constructor(t){super(),xe(this,t,wr,pr,ve,{element:0,openingProperties:4,getElement:5,closeModalOpening:6,hide:7,positionModal:8,setupForStep:9,show:10})}get getElement(){return this.$$.ctx[5]}get closeModalOpening(){return this.$$.ctx[6]}get hide(){return this.$$.ctx[7]}get positionModal(){return this.$$.ctx[8]}get setupForStep(){return this.$$.ctx[9]}get show(){return this.$$.ctx[10]}}class Er extends Nt{constructor(){super(),this.activeTour=void 0,Dt(this)}}class vr extends Nt{constructor(t={}){super(),this.trackedEvents=["active","cancel","complete","show"],this.classPrefix=void 0,this.currentStep=void 0,this.focusedElBeforeOpen=void 0,this.id=void 0,this.modal=void 0,this.options=void 0,this.steps=void 0,Dt(this);const n={exitOnEsc:!0,keyboardNavigation:!0};return this.options=Object.assign({},n,t),this.classPrefix=In(this.options.classPrefix),this.steps=[],this.addSteps(this.options.steps),["active","cancel","complete","inactive","show","start"].map(i=>{(r=>{this.on(r,s=>{s=s||{},s.tour=this,W.trigger(r,s)})})(i)}),this._setTourID(t.id),this}addStep(t,n){let o=t;return o instanceof Rt?o.tour=this:o=new Rt(this,o),$(n)?this.steps.push(o):this.steps.splice(n,0,o),o}addSteps(t){return Array.isArray(t)&&t.forEach(n=>{this.addStep(n)}),this}back(){const t=this.steps.indexOf(this.currentStep);this.show(t-1,!1)}async cancel(){if(this.options.confirmCancel){const t=this.options.confirmCancelMessage||"Are you sure you want to stop the tour?";let n;Se(this.options.confirmCancel)?n=await this.options.confirmCancel():n=window.confirm(t),n&&this._done("cancel")}else this._done("cancel")}complete(){this._done("complete")}getById(t){return this.steps.find(n=>n.id===t)}getCurrentStep(){return this.currentStep}hide(){const t=this.getCurrentStep();if(t)return t.hide()}isActive(){return W.activeTour===this}next(){const t=this.steps.indexOf(this.currentStep);t===this.steps.length-1?this.complete():this.show(t+1,!0)}removeStep(t){const n=this.getCurrentStep();this.steps.some((o,i)=>{if(o.id===t)return o.isOpen()&&o.hide(),o.destroy(),this.steps.splice(i,1),!0}),n&&n.id===t&&(this.currentStep=void 0,this.steps.length?this.show(0):this.cancel())}show(t=0,n=!0){const o=tt(t)?this.getById(t):this.steps[t];o&&(this._updateStateBeforeShow(),Se(o.options.showOn)&&!o.options.showOn()?this._skipStep(o,n):(this.currentStep=o,this.trigger("show",{step:o,previous:this.currentStep}),o.show()))}async start(){this.trigger("start"),this.focusedElBeforeOpen=document.activeElement,this.currentStep=null,this.setupModal(),this._setupActiveTour(),this.next()}_done(t){const n=this.steps.indexOf(this.currentStep);if(Array.isArray(this.steps)&&this.steps.forEach(o=>o.destroy()),hr(this),this.trigger(t,{index:n}),W.activeTour=null,this.trigger("inactive",{tour:this}),this.modal&&this.modal.hide(),(t==="cancel"||t==="complete")&&this.modal){const o=document.querySelector(".shepherd-modal-overlay-container");o&&(o.remove(),this.modal=null)}ze(this.focusedElBeforeOpen)&&this.focusedElBeforeOpen.focus()}_setupActiveTour(){this.trigger("active",{tour:this}),W.activeTour=this}setupModal(){this.modal=new yr({target:this.options.modalContainer||document.body,props:{styles:this.styles}})}_skipStep(t,n){const o=this.steps.indexOf(t);if(o===this.steps.length-1)this.complete();else{const i=n?o+1:o-1;this.show(i,n)}}_updateStateBeforeShow(){this.currentStep&&this.currentStep.hide(),this.isActive()||this._setupActiveTour()}_setTourID(t){const n=this.options.tourName||"tour",o=t||Ln();this.id=`${n}--${o}`}}const W=new Er,Gn=typeof window>"u";W.Step=Gn?Oo:Rt;W.Tour=Gn?To:vr;const xr="/api/v1/create-explanation-with-ai",Tn=10,_r=180,Sr=50,Or=2e3,at={LOADING:"Sedang berpikir...",MAX_LENGTH_ERROR:"Mohon untuk memilih kalimat yang lebih pendek untuk dijelaskan.",GENERAL_ERROR:"Oops, sepertinya terjadi kesalahan. Mohon untuk coba lagi kembali grr >.<"},fe={activeRange:null,firstRect:null,highlightedText:""};let de=null;function Tr(e,t){const n=document.getElementById("explain-with-ai-fab");de=document.getElementById("explanation-popup");const o=de==null?void 0:de.querySelector(".popup-close");n&&(n.addEventListener("click",async()=>{var p;const i=window.getSelection(),r=(p=i==null?void 0:i.toString())==null?void 0:p.trim();if(!r||!i)return;const s=i.getRangeAt(0);fe.firstRect=s.getClientRects()[0],fe.activeRange=s,fe.highlightedText=r,e(i,()=>{de.style.display="none"});const l=document.querySelector("#tutorial-content").getBoundingClientRect(),a=Math.abs(l.top),c=a>80?a+fe.firstRect.bottom+fe.firstRect.height+6*Tn:fe.firstRect.top+fe.firstRect.height+Tn;Object.assign(de.style,{left:`${fe.firstRect.left}px`,top:`${c}px`,display:"block"}),await Cr()}),o==null||o.addEventListener("click",()=>{de.style.display="none",t()}))}async function Ar(e,t=Sr){for(const n of e)Ze(n,!0),await new Promise(o=>setTimeout(o,t))}function Ze(e,t=!1){if(!de)return;let n=de.querySelector(".popup-content");n||(n=document.createElement("div"),n.className="popup-content",de.appendChild(n)),n.textContent=t?n.textContent+e:e}async function Cr(){try{if(Ze(at.LOADING),fe.highlightedText.length>_r)throw new RangeError;const e=await fetch(xr,{method:"POST",headers:{"Content-Type":"application/json","x-csrf-token":window.Dicoding.csrfToken},body:JSON.stringify({course_id:window.courseId,highlighted_text:fe.highlightedText})}),{message:t}=await e.json();Ze(""),await Ar(t)}catch(e){const t=e instanceof RangeError?at.MAX_LENGTH_ERROR:at.GENERAL_ERROR;Ze(at.LOADING),await new Promise(n=>setTimeout(n,Or)),Ze(t)}}const we={VISIBILITY_TOGGLE:"note-indicator-visibility-toggle",ONBOARDING:"learning-note-onboarding"};Je(window).on("load",()=>{const e=document.querySelector("#tutorial-content"),t=document.querySelector("#article-content"),n=document.querySelector("#user-selection-floating-buttons-backdrop"),o=n.querySelector("#user-selection-floating-buttons-popover"),i=o.querySelector("#copy-text-floating-button"),r=o.querySelector("#show-learning-note-creation-form-floating-button"),s=document.querySelector("#learning-note-creation-backdrop"),l=document.querySelector("#learning-note-creation-popover"),a=Je("#note-body-textarea"),c=document.querySelector('input[name="highlighted_text"]'),p=document.querySelector('input[name="highlight_start_offset"]'),d=document.querySelector('input[name="highlight_end_offset"]'),u=document.querySelector('input[name="highlight_prefix"]'),g=document.querySelector('input[name="highlight_suffix"]'),b=document.querySelector("#learning-note-update-backdrop"),w=document.querySelector("#learning-note-update-popover"),_=Je("#note-body-textarea-update"),x=document.querySelector("#learning-note-indicators"),C=document.querySelector("#learning-note-indicators-dropdown-toggle-button-template"),T=document.querySelector("#learning-note-indicators-item-button-template"),v=document.querySelector("#note-indicator-visibility-toggle"),A=document.querySelectorAll("button[data-show-in-the-lesson-content-button]"),N=document.querySelector("#learning-note-onboarding-start-button");let I=null;function V(f){const h=f.cloneContents();f.deleteContents();const m=document.createElement("mark");return m.append(h.cloneNode(!0)),f.insertNode(m),{oldContent:h,markElement:m}}function j(f,h){f.deleteContents(),f.insertNode(h),f.commonAncestorContainer.normalize()}function E({whenAppear:f,whenDisappear:h}){f(),n.classList.remove("d-none"),o.removeAttribute("aria-hidden"),o.focus(),n.onclick=m=>{const y=m.target,S=!Array.from(o.querySelectorAll("button,a")).some(O=>O.contains(y));o.contains(y)&&S||(n.classList.add("d-none"),n.onclick=null,o.setAttribute("aria-hidden","true"))}}function L({whenAppear:f,whenDisappear:h,displayNote:m=!0}){f(),s.classList.remove("d-none"),m?(l.classList.remove("d-none"),l.removeAttribute("aria-hidden"),l.focus()):(l.classList.add("d-none"),l.setAttribute("aria-hidden","true")),s.onclick=y=>{const S=y.target;l.contains(S)||(h(),s.classList.add("d-none"),s.onclick=null,l.setAttribute("aria-hidden","true"))}}function k(f){c.value=(f==null?void 0:f.highlightedText)??"",p.value=(f==null?void 0:f.highlightStartOffset.toString())??"0",d.value=(f==null?void 0:f.highlightEndOffset.toString())??"0",u.value=(f==null?void 0:f.highlightPrefix)??"",g.value=(f==null?void 0:f.highlightSuffix)??""}function F({whenAppear:f,whenDisappear:h}){f(),b.classList.remove("d-none"),w.removeAttribute("aria-hidden"),w.focus(),b.onclick=m=>{const y=m.target;w.contains(y)||(h(),b.classList.add("d-none"),b.onclick=null,w.setAttribute("aria-hidden","true"))}}function q(f=""){_.val(Ie.sanitize(f)),_.froalaEditor("html.set",Ie.sanitize(f))}function K(){a.froalaEditor("destroy");const f=a.data("placeholder")??"Masukkan catatan kamu di sini";a.froalaEditor({placeholderText:Ie.sanitize(f),toolbarButtons:["bold","italic","underline","|","formatOL","formatUL"]})}function ee(){_.froalaEditor("destroy");const f=_.data("placeholder")??"Masukkan catatan kamu di sini";_.froalaEditor({placeholderText:Ie.sanitize(f),toolbarButtons:["bold","italic","underline","|","formatOL","formatUL"]})}function G(f){function h(D){return D.parentElement===null?null:D.parentElement===t?D:h(D.parentElement)}function m(){const D=f.startContainer.parentElement.parentElement.tagName.toLowerCase()==="span"&&f.startContainer.parentElement.parentElement.classList.contains("learning-note-indicator-text")&&f.startContainer.parentElement.parentElement.hasAttribute("data-note-id"),U=f.endContainer.parentElement.parentElement.tagName.toLowerCase()==="span"&&f.endContainer.parentElement.parentElement.classList.contains("learning-note-indicator-text")&&f.endContainer.parentElement.parentElement.hasAttribute("data-note-id");if(D||U)return!0;const X=document.createTreeWalker(t,NodeFilter.SHOW_ALL);let ue=null,ie=null,z=[];for(;X.nextNode()&&!ie;)X.currentNode===f.startContainer&&(ue=X.currentNode),ue&&(z=z.concat(X.currentNode)),X.currentNode===f.endContainer&&(ie=X.currentNode);return!!z.find(be=>be instanceof HTMLElement?be.tagName.toLowerCase()==="span"&&be.classList.contains("learning-note-indicator-text")&&be.hasAttribute("data-note-id"):!1)}if(m())throw new Error("Note taking not allowed!");const y=h(f.startContainer.parentElement),S=h(f.endContainer.parentElement);if(!y||!S)throw new Error("Error was happened, please try again!");if(["panel-code","coderunner-widget"].some(D=>y.classList.contains(D)))throw new Error("Note taking not allowed!");const P=["img","iframe","table","pre","textarea"];if(P.includes(y.tagName.toLowerCase()))throw new Error("Note taking not allowed!");if(P.some(D=>y.querySelector(D)))throw new Error("Note taking not allowed!");if(y!==S)throw new Error("Note taking not allowed!");function B(D){return D.tagName.toLowerCase()==="li"?D:D.parentElement===null||D.parentElement===t?null:B(D.parentElement)}const oe=B(f.startContainer.parentElement);if(oe){const D=B(f.endContainer.parentElement);if(oe!==D)throw new Error("Note taking not allowed!")}}function Be(f,h){o.style.left=`${f}px`,o.style.top=`${h}px`}function ae(f,h){l.style.left=`${f}px`,l.style.top=`${h}px`}function Y(f,h){w.style.left=`${f}px`,w.style.top=`${h}px`}document.addEventListener("mouseup",f=>{const h=document.getSelection();!h||!h.toString().length||t.contains(h.anchorNode)&&E({whenAppear(){var m,y,S,O;Be(f.clientX,f.clientY);try{G(h.getRangeAt(0)),r.disabled=!1,r.style.pointerEvents="auto",(m=r.parentElement)==null||m.setAttribute("tabindex","-1"),(y=r.parentElement)==null||y.setAttribute("title","Buat catatan")}catch{r.disabled=!0,r.style.pointerEvents="none",(S=r.parentElement)==null||S.setAttribute("tabindex","0"),(O=r.parentElement)==null||O.setAttribute("title","Fitur catatan belum mendukung konten ini")}},whenDisappear(){}})}),r.addEventListener("click",()=>{const f=document.getSelection();if(!f)return;const h=f.getRangeAt(0);try{G(h);const m=to(h,t),{oldContent:y,markElement:S}=V(h),O=new ResizeObserver(()=>{const P=S.getBoundingClientRect();ae(Math.min(P.left+P.width/2-10,window.innerWidth-(l.offsetWidth+100)),Math.min(P.top+P.height-10,window.innerHeight-(l.offsetHeight+100)))});L({whenAppear(){f.empty(),O.observe(e.parentElement),K(),k(m)},whenDisappear(){j(h,y),k(null),O.disconnect()}})}catch(m){console.error(m)}}),i.addEventListener("click",async()=>{const f=window.getSelection(),h=f==null?void 0:f.toString();if(h)try{if(navigator.clipboard&&window.isSecureContext){await navigator.clipboard.writeText(h);return}const m=document.createElement("textarea");m.value=h,m.setAttribute("readonly",""),m.style.position="fixed",m.style.top="-1000px",document.body.appendChild(m),m.select();const y=document.execCommand("copy");if(document.body.removeChild(m),!y)throw new Error("Failed to copy text")}catch(m){console.error(m)}finally{f==null||f.empty()}}),Tr((f,h)=>{const m=f.getRangeAt(0),{oldContent:y}=V(m);L({whenAppear(){s.classList.add("d-none"),f.empty()},whenDisappear(){h(),j(m,y)},displayNote:!1})});function te(f,h){const m=document.createElement("span");m.classList.add("learning-note-indicator-text"),m.setAttribute("role","button"),m.setAttribute("tabindex","0"),m.setAttribute("onkeydown","if(event.key === 'Enter' || event.key === ' '){ event.preventDefault();this.click(); }"),m.setAttribute("data-note-id",h.id.toString()),m.addEventListener("click",()=>{const y=new ResizeObserver(()=>{const S=m.getBoundingClientRect();Y(Math.min(S.left-10,window.innerWidth-(w.offsetWidth+100)),Math.min(S.top+S.height-10,window.innerHeight-(w.offsetHeight+100)))});F({whenAppear(){y.observe(e.parentElement),ee(),q(h.noteBody);const S=w.querySelector("form"),O=S.action.split("/");O[en(O,"learning-notes")+1]=h.id.toString(),S.action=O.join("/")},whenDisappear(){q(),y.disconnect()}})}),m.appendChild(f.extractContents()),f.insertNode(m)}function ce(f){function h(y){return y.parentElement===null?null:y.parentElement===t?y:h(y.parentElement)}return f.reduce((y,S)=>{if(S.status==="orphaned")return y;const O=document.querySelector(`.learning-note-indicator-text[data-note-id="${S.id}"]`),P=h(O.parentElement);if(!P)return y;const B=y.find(({parent:oe})=>oe===P);return B?(B.notes.push(S),y):y.concat({parent:P,notes:[S]})},[])}function Et(f){f.forEach(({notes:h})=>{var P;if(h.every(B=>B.noteBody.length<1))return;const m=JSON.stringify(h.map(({id:B})=>B)),y=document.createElement("div");y.classList.add("learning-note-indicators__item","dropright"),y.dataset.noteIndicatorsId=m;const S=C.content.cloneNode(!0);(P=S.firstElementChild)==null||P.setAttribute("data-notes-length",h.filter(B=>!!B.noteBody).length.toString());const O=document.createElement("div");O.classList.add("dropdown-menu"),h.forEach(B=>{var D,U,X;const oe=T.content.cloneNode(!0);(D=oe.firstElementChild)==null||D.setAttribute("data-note-id",B.id.toString()),(U=oe.firstElementChild)==null||U.append(B.highlightedText.length>30?`${B.highlightedText.substring(0,30)}...`:B.highlightedText),(X=oe.firstElementChild)==null||X.addEventListener("click",ue=>{const ie=ue.currentTarget,z=Number(ie.dataset.noteId);z<1||isNaN(z)||vt(z)}),O.appendChild(oe)}),y.appendChild(O),y.appendChild(S),x.appendChild(y)}),document.body.addEventListener("click",h=>{const m=h.target,y=Array.from(document.querySelectorAll(".learning-notes-list__list-item.learning-notes-list__list-item--state-active"));y.some(O=>!O.contains(m))&&y.forEach(O=>{O.classList.remove("learning-notes-list__list-item--state-active")})})}function Yn(f){return f.map(m=>oo(m,t))}function $n(f){f.forEach(h=>{if(h.status===ut.ORPHANED)return;const m=io(t,h);te(m,h)})}function Xn(f){f.flatMap(h=>h.notes).forEach(h=>{const m=document.querySelector(`.learning-note-indicators__item__button[data-note-id="${h.id}"]`),y=document.querySelector(`.learning-note-indicator-text[data-note-id="${h.id}"]`);m==null||m.addEventListener("mouseenter",()=>{y==null||y.classList.add("learning-note-indicator-text--state-active")}),m==null||m.addEventListener("mouseleave",()=>{y==null||y.classList.remove("learning-note-indicator-text--state-active")})})}function Kn(f){new ResizeObserver(m=>{m.forEach(()=>{f.forEach(({parent:y,notes:S})=>{const O=JSON.stringify(S.map(({id:B})=>B));let P=document.querySelector(`[data-note-indicators-id="${O}"]`);P&&(P.style.top=`${y.offsetTop}px`,P.style.left=`calc(${y.offsetLeft}px - 40px)`)})})}).observe(e.parentElement)}async function Jn(){I=new W.Tour({tourName:"onboarding",useModalOverlay:!0,defaultStepOptions:{classes:"learning-note-tour",scrollTo:!1},confirmCancel:!1,exitOnEsc:!0,keyboardNavigation:!0});const f={text(){return`
                    <svg
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            d="M9.99935 6.66675L6.66602 10.0001M6.66602 10.0001L9.99935 13.3334M6.66602 10.0001H13.3327M18.3327 10.0001C18.3327 14.6025 14.6017 18.3334 9.99935 18.3334C5.39698 18.3334 1.66602 14.6025 1.66602 10.0001C1.66602 5.39771 5.39698 1.66675 9.99935 1.66675C14.6017 1.66675 18.3327 5.39771 18.3327 10.0001Z"
                            stroke="black"
                            stroke-width="1.66667"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                        />
                    </svg>
                    <span>Kembali</span>
                `},classes:"shepherd-button__back",label:"Kembali ke langkah sebelumnya",disabled:!1,action(){this.back()}},h={text(){return`
                    <span>Lanjutkan</span>
                    <svg
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            d="M9.99935 13.3334L13.3327 10.0001M13.3327 10.0001L9.99935 6.66675M13.3327 10.0001H6.66602M18.3327 10.0001C18.3327 14.6025 14.6017 18.3334 9.99935 18.3334C5.39698 18.3334 1.66602 14.6025 1.66602 10.0001C1.66602 5.39771 5.39698 1.66675 9.99935 1.66675C14.6017 1.66675 18.3327 5.39771 18.3327 10.0001Z"
                            stroke="white"
                            stroke-width="1.66667"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                        />
                    </svg>
                `},classes:"shepherd-button__next",label:"Lanjutkan ke langkah berikutnya",disabled:!1,action(){this.next()}},m={text:"Siap Belajar",classes:"shepherd-button__go",label:"Siap belajar dengan Learning Note",disabled:!1,action(){this.complete()}};let y=null,S=null;function O(U){var be;if(!W.activeTour)throw new Error("Shepherd tour is not active");const X=W.activeTour.steps;if(!W.activeTour.currentStep)throw new Error("Shepherd tour is not active");const ue=W.activeTour.currentStep,ie=(be=ue.getElement())==null?void 0:be.querySelector(".learning-note-onboarding__progress-steps-list");ie.innerHTML="";let z=0;X.forEach(xt=>{const He=document.createElement("progress");if(He.classList.add("learning-note-onboarding__progress-steps-list-item"),He.max=100,xt.id===ue.id){const _t=U,Zt=_t/100;y=setInterval(()=>{z=Math.min(z+_t/Zt/100,100),He.value=z},Zt),S=setTimeout(()=>{var Qt;y&&clearInterval(y),X.indexOf(ue)!==X.length-1&&((Qt=W.activeTour)==null||Qt.next())},_t)}ie.appendChild(He)})}function P({title:U,description:X,videoLink:ue}){const ie=document.querySelector("#learning-note-onboarding-template"),z=ie==null?void 0:ie.content.cloneNode(!0);if(!z)return I.cancel(),"";const be=z.querySelector("#learning-note-onboarding__video--mp4");be.src=ue;const xt=z.querySelector(".learning-note-onboarding__title");xt.innerHTML=Ie.sanitize(U);const He=z.querySelector(".learning-note-onboarding__description");return He.innerHTML=Ie.sanitize(X),Ie.sanitize(z.firstElementChild)}const B=new W.Step(I,{id:"highlight",cancelIcon:{enabled:!0,label:"Lewati onboarding"},buttons:[h],when:{show(){const U=this.el.querySelector(".learning-note-onboarding__video");U.addEventListener("play",()=>{O(U.duration*1e3)})}},text:P({title:"Tandai Bagian Penting,<br>Belajar Jadi Lebih Fokus",description:"Tandai bagian yang penting biar gampang dicari lagi nanti. Hemat waktu, fokus ke inti pelajaran.",videoLink:"https://assets.cdn.dicoding.com/videos/intro-highlight-text-feature.mp4"})}),oe=new W.Step(I,{id:"note-taking",cancelIcon:{enabled:!0,label:"Lewati onboarding"},buttons:[f,h],when:{show(){const U=this.el.querySelector(".learning-note-onboarding__video");U.addEventListener("play",()=>{O(U.duration*1e3)})}},text:P({title:"Catat Sekarang,<br>Pahami Lebih Dalam",description:"Menulis catatan membantu mengingat dan memahami pelajaran lebih cepat. Semua insight tersimpan aman di sini.",videoLink:"https://assets.cdn.dicoding.com/videos/intro-note-taking-feature.mp4"})}),D=new W.Step(I,{id:"note-access",cancelIcon:{enabled:!0,label:"Lewati onboarding"},buttons:[f,m],when:{show(){const U=this.el.querySelector(".learning-note-onboarding__video");U.addEventListener("play",()=>{O(U.duration*1e3)})}},text:P({title:"Akses Cepat ke<br> Catatanmu",description:"Akses semua catatan kapan saja. Ulangi materi dan segarkan ingatan dengan cepat.",videoLink:"https://assets.cdn.dicoding.com/videos/intro-note-access-feature.mp4"})});W.on("show",()=>{y&&clearInterval(y),S&&clearTimeout(S)}),W.on("complete",()=>{localStorage.setItem(we.ONBOARDING,"true")}),W.on("cancel",()=>{localStorage.setItem(we.ONBOARDING,"true")}),I.addSteps([B,oe,D]),localStorage.getItem(we.ONBOARDING)!=="true"&&await I.start(),N==null||N.addEventListener("click",async()=>{await I.start()})}function $t(f){if(f){x.classList.remove("d-none"),x.removeAttribute("aria-hidden"),document.querySelectorAll(".learning-note-indicator-text").forEach(h=>{h.classList.remove("learning-note-indicator-text--state-hide"),h.setAttribute("tabindex","0"),h.removeAttribute("aria-hidden")});return}x.classList.add("d-none"),x.setAttribute("aria-hidden","true"),document.querySelectorAll(".learning-note-indicator-text").forEach(h=>{h.classList.add("learning-note-indicator-text--state-hide"),h.setAttribute("tabindex","-1"),h.setAttribute("aria-hidden","true")})}function Xt(f){const h=document.querySelector("#note-indicator-visibility-eye-on-template"),m=document.querySelector("#note-indicator-visibility-eye-off-template");v.replaceChild(f?h.content.cloneNode(!0):m.content.cloneNode(!0),v.querySelector("svg"))}function Zn(){localStorage[we.VISIBILITY_TOGGLE]||localStorage.setItem(we.VISIBILITY_TOGGLE,"true");const f=localStorage.getItem(we.VISIBILITY_TOGGLE)==="true";$t(f),Xt(f),v.onclick=()=>{const h=localStorage.getItem(we.VISIBILITY_TOGGLE)==="true";h?localStorage.setItem(we.VISIBILITY_TOGGLE,"false"):localStorage.setItem(we.VISIBILITY_TOGGLE,"true"),$t(!h),Xt(!h)}}function Qn(){let f=-1;A.forEach(m=>{m.addEventListener("click",y=>{const S=y.target,O=Number(S.dataset.noteId);O<1||isNaN(O)||(f=O,Jt(),Kt(O),vt(O))})});const h=new URLSearchParams(window.location.search);if(h.has("highlight-note")){const m=Number(h.get("highlight-note"));if(m<1||isNaN(m))return;f=m,Jt(),Kt(m),vt(m)}t.addEventListener("click",m=>{const y=m.target;if(f>0){const S=document.querySelector(`.learning-note-indicator-text[data-note-id="${f}"]`);S&&!S.contains(y)&&S.classList.remove("learning-note-indicator-text--state-active")}})}function vt(f){var y;const h=document.querySelector(".sidebar-navigation-btn-show"),m=(h==null?void 0:h.classList.contains("show"))??!1;if(m&&(h==null||h.click()),h!=null&&h.nextElementSibling){const S=document.querySelector("input#learning-notes-list-radio");(y=S==null?void 0:S.parentElement)==null||y.click();const O=document.querySelector(`.learning-notes-list__list-item[data-note-id="${f}"]`);setTimeout(()=>{O==null||O.classList.add("learning-notes-list__list-item--state-active"),O==null||O.scrollIntoView({behavior:"smooth",block:"start"})},m?500:0)}}function Kt(f){const h=document.querySelector(`.learning-note-indicator-text[data-note-id="${f}"]`);if(!h){const m=document.querySelector(`.learning-notes-list__list-item[data-note-id="${f}"]`);m?!m.querySelector(".learning-notes-list__list-item__highlighted-text__text-link")&&Je("#note-was-obsolete-modal").modal("show"):Je("#note-not-found-modal").modal("show");return}h.classList.add("learning-note-indicator-text--state-active"),h.scrollIntoView({behavior:"smooth",block:"center"})}function Jt(){document.querySelectorAll(".learning-note-indicator-text").forEach(h=>{h.classList.remove("learning-note-indicator-text--state-active")})}function eo(){function f(m){const y=document.querySelector(`.learning-note-indicator-text[data-note-id="${m}"]`);y&&F({whenAppear(){y.scrollIntoView({behavior:"auto",block:"center"});const S=y.getBoundingClientRect();Y(S.left,S.top+10),ee(),q();const O=w.querySelector("form"),P=O.action.split("/");P[en(P,"learning-notes")+1]=m.toString(),O.action=P.join("/")},whenDisappear(){q()}})}const h=new URLSearchParams(window.location.search);if(h.has("highlight-note")&&h.has("note-edit")){const m=Number(h.get("highlight-note"));if(m<1||isNaN(m)||!(h.get("note-edit")==="true"))return;f(m)}}setTimeout(()=>{Jn();const f=At(window.learningNotes),h=Yn(f);$n(h);const m=ce(h);Et(m),Xn(m),Kn(m),Zn(),eo(),Qn()})});
